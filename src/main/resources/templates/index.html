<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="ISO-8859-1" />
    <title>Movie Searcher</title>
    <link href="../../static/style.css" th:href="@{/style.css}" rel="stylesheet" type="text/css" media="all" />
  </head>
  <body>
    <div align="center">
      <h1>Movie Searcher</h1>

      <br /><br />
      <form th:action="@{/}">
        Filter:
        <input
          type="text"
          name="keyword"
          placeholder="Enter keyword..."
          id="keyword"
          size="50"
          th:object="${searchRequest}"
          th:field="*{keyword}"
        />

        <select th:object="${searchRequest}" th:field="*{type}">
          <option value="">Select Type</option>
          <option
            th:each="type : ${typeList}"
            th:value="${type}"
            th:text="${type}"
          ></option>
        </select>

        <select th:object="${searchRequest}" th:field="*{country}">
          <option value="">Select Country</option>
          <option
                  th:each="country : ${countryList}"
                  th:value="${country}"
                  th:text="${country}"
          ></option>
        </select>

        <select th:object="${searchRequest}" th:field="*{rating}">
          <option value="">Select Rating</option>
          <option
            th:each="rating : ${ratingList}"
            th:value="${rating}"
            th:text="${rating}"
          ></option>
        </select>

        <select th:object="${searchRequest}" th:field="*{releaseYear}">
          <option value="">Select Release Year</option>
          <option
            th:each="releaseYear : ${releaseYearList}"
            th:value="${releaseYear}"
            th:text="${releaseYear}"
          ></option>
        </select>

        <select th:object="${searchRequest}" th:field="*{genre}">
          <option value="">Select Genre</option>
          <option
            th:each="genre : ${genreList}"
            th:value="${genre}"
            th:text="${genre}"
          ></option>
        </select>
        &nbsp;
        <input type="submit" value="Search" />
        &nbsp;
        <input
          type="button"
          value="Clear"
          id="btnClear"
          onclick="clearSearch()"
        />
      </form>
      <br /><br />

      <table border="1" cellpadding="10">
        <thead>
          <tr>
            <th>Type</th>
            <th>Title</th>
            <th>Director</th>
            <th>Cast</th>
            <th>Country</th>
            <th>Release Year</th>
            <th>Rating</th>
            <th>Duration</th>
            <th>Genre</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="movie : ${movieList}">
            <td th:text="${movie.type}">Type</td>
            <td th:text="${movie.title}">Title</td>
            <td th:text="${movie.director}">Director</td>
            <td th:text="${movie.cast}">Cast</td>
            <td th:text="${movie.country}">Country</td>
            <td th:text="${movie.release_year}">Release Year</td>
            <td th:text="${movie.rating}">Rating</td>
            <td th:text="${movie.duration}">Duration</td>
            <td th:text="${movie.listed_in}">Genre</td>
            <td th:text="${movie.description}">Description</td>
          </tr>
        </tbody>
      </table>
    </div>
    <script type="text/javascript">
      function clearSearch() {
        window.location = "[[@{/}]]";
      }
    </script>
  </body>
</html>
